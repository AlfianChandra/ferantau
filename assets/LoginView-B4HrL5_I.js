import{d as N,g as o,j as T,c as _,a,e as s,k as j,n as g,u as c,r as A,p as y,A as P,w as U,l as f,t as Y,F as $,o as x}from"./index-CN3zt_SK.js";import{u as D}from"./theme-bLTCsgUO.js";import{_ as V}from"./InputView.vue_vue_type_style_index_0_lang-DEdUsZhh.js";import{a as F,_ as L,B as O}from"./ThemeSetting.vue_vue_type_style_index_0_lang-CgB9RhTg.js";import{m as q}from"./formValidator-OdL4bhgE.js";import{_ as z}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-B_bkfGDB.js";import{a as I}from"./index-Br0q4W-C.js";import{h as G}from"./moment-C5S46NFB.js";const J={class:g(["bl-wrapper"])},K={class:"bl-opt"},M={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start","margin-bottom":"1rem"}},W={class:"form-group"},H={class:"form-group",style:{"margin-top":"2rem","font-size":"12px","text-align":"center"}},Q={class:"copyright"},R={key:0,class:"lgwait-overlay"},ne=N({__name:"LoginView",setup(X){const{vPassword:b,vEmail:h,checkValidation:k}=q(),n=o(!1),r=D(),i=o(""),l=o(""),v=o(!0),m=o(""),d=o(""),C=[m,d];m.value=h(i).message,d.value=b(l).message,T([i,l],()=>{m.value=h(i).message||"",d.value=b(l).message||"",v.value=k(C)},{immediate:!0});const u=o(!1),S=async()=>{if(u.value=!0,!v.value){const w={username:i.value,password:l.value};try{const e=await I.post(y.baseEnd+"api/Auth/login",w),p=e.data.message,t=e.data.auth.token,E=e.data.auth.id;r.notifyAlertSuccess("Berhasil",p,"OK",()=>{localStorage.setItem("authToken",t),localStorage.setItem("userid",E),window.location.href="/Dashboard"}),u.value=!1}catch(e){e.response&&(r.notifyAlertError("Gagal",e.response.data.message,"Oke",()=>{}),u.value=!1)}}},B=()=>{n.value=!n.value};return(w,e)=>{const p=A("font-awesome-icon");return x(),_($,null,[a(F,{visible:n.value,"onUpdate:visible":e[0]||(e[0]=t=>n.value=t)},null,8,["visible"]),s("div",J,[s("div",{class:g(["bl-inner",c(r).mTheme])},[s("div",K,[a(L),s("a",{class:g([c(r).textTheme]),onClick:B,href:"javascript:void(0)"},[a(p,{icon:"gear"})],2)]),s("div",M,[a(O,{style:{"padding-left":"1rem"},"site-name":c(y).appName},null,8,["site-name"])]),s("form",{onSubmit:P(S,["prevent"])},[a(V,{"in-label":"E-mail / Username","in-placeholder":"example@email.com","in-type":"text","in-required":!0,"in-helper":m.value,modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t)},null,8,["in-helper","modelValue"]),a(V,{"in-label":"Password","in-placeholder":"","in-type":"password","in-required":!0,"in-helper":d.value,modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value=t)},null,8,["in-helper","modelValue"]),s("div",W,[a(z,{"bt-type":"submit","bt-disabled":v.value},{default:U(()=>e[3]||(e[3]=[f("Sign-in")])),_:1},8,["bt-disabled"])]),s("div",H,[s("span",Q,[s("i",null,[e[4]||(e[4]=f("Copyright ")),a(p,{icon:"copyright"}),f(" "+Y(c(G)().format("YYYY"))+" ",1),e[5]||(e[5]=s("b",null,"FOL Production Jambi Data Center",-1)),e[6]||(e[6]=f(" all rights reserved"))])])])],32)],2)]),u.value?(x(),_("div",R,e[7]||(e[7]=[s("div",{class:"lgwait-inner"},[s("img",{style:{width:"200px",height:"200px","object-fit":"cover"},src:"https://cdn.dribbble.com/users/1186261/screenshots/3718681/media/1df2396f1eaa146bcb7dd3e73c1dc77b.gif"}),s("p",null,"Please wait")],-1)]))):j("",!0)],64)}}});export{ne as default};
