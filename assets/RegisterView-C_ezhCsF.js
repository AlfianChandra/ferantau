import{d as z,c as T,I as L,a as n,T as p,r as B,t as F,o as x,P as t,S as A,e as a,n as h,u as l,V as N,f as k,ay as O,F as q,M as W,w as K,b as R,b3 as G}from"./index-DXmNhpZa.js";import{a as H}from"./http-aSBkfQzS.js";import{_ as w}from"./InputView.vue_vue_type_style_index_0_lang-FUDCoWbc.js";import{a as Q,_ as X,B as Y}from"./ThemeSetting.vue_vue_type_style_index_0_lang-D4K6HK0G.js";import{m as Z}from"./formValidator-OdL4bhgE.js";import{u as ee}from"./theme-D_KNkD7F.js";const ae={key:0,class:"errmsg",style:{"margin-bottom":"0.5rem"}},se=z({__name:"UiErrorItem",props:{errorMessage:{type:String,required:!0}},setup(S){return(C,M)=>{const _=B("font-awesome-icon");return S.errorMessage?(x(),T("div",ae,[n(_,{icon:"times-circle"}),p(" "+F(S.errorMessage),1)])):L("",!0)}}}),oe={class:h(["bl-wrapper"])},te={class:"bl-opt"},le={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start","margin-bottom":"1rem"}},ne={class:"form-group"},re={class:"form-group"},ie=["disabled"],ue={class:"form-group"},ge=z({__name:"RegisterView",setup(S){const{vFullname:C,vEmail:M,vPassword:_,vPhone:D,checkValidation:E}=Z(),s=ee(),b=t(!1),I=()=>{b.value=!b.value},i=t(""),r=t(""),u=t(""),m=t(""),c=t(!0),V=t(),v=t(""),f=t(""),g=t(""),y=t(""),U=[v,f,g,y];v.value=C(i).message,g.value=D(u).message,y.value=_(m).message,f.value=M(r).message,A([i,u,m,r],()=>{v.value=C(i).message||"",g.value=D(u).message||"",y.value=_(m).message||"",f.value=M(r).message||"",c.value=E(U)},{immediate:!0}),A([v,g,y,f],()=>{c.value=E(U)},{immediate:!0});const P=()=>{c.value?s.notifyShow("Mohon isi form dengan benar!"):s.notifyConfirm("Daftar?","Pastikan data sudah benar. Jika sudah, klik Daftar Sekarang","Daftar Sekarang","Batal",async()=>{const $={username:r.value,email:r.value,password:m.value,phone:u.value,fullname:i.value};try{const d=(await H.post(N.baseEnd+"auth/register",JSON.stringify($),{headers:{"Content-Type":"application/json"}})).data.message;s.notifyAlertSuccess(d.area,d.content,"Oke!",()=>{r.value="",m.value="",u.value="",i.value="",V.value=null,G.push("/login")})}catch(e){if(e.response&&e.response.data.errors){let d=e.response.data.errors;V.value=d}else V.value=[{msg:e.response.data.message.content}]}},()=>{})};return($,e)=>{const d=B("font-awesome-icon"),j=B("router-link");return x(),T(q,null,[n(Q,{visible:b.value,"onUpdate:visible":e[0]||(e[0]=o=>b.value=o)},null,8,["visible"]),a("div",oe,[a("div",{class:h(["bl-inner",l(s).mTheme])},[a("div",te,[n(X),a("a",{class:h([l(s).textTheme]),onClick:I,href:"javascript:void(0)"},[n(d,{icon:"gear"})],2)]),a("div",le,[n(Y,{style:{"padding-left":"1rem"},"site-name":l(N).appName},null,8,["site-name"])]),a("p",{class:h(l(s).textTheme),style:{"padding-left":"1rem","font-size":"14px"}},[e[5]||(e[5]=p(" Daftar Akun ")),a("span",{style:k({color:l(s).accentColor})},"Waterlo",4),e[6]||(e[6]=p(" sekarang dan kelola bisnis Depot Air Minum Isi Ulang Anda bersama ")),a("span",{style:k({color:l(s).accentColor})},"Waterlo",4),e[7]||(e[7]=p("! "))],2),a("form",{onSubmit:O(P,["prevent"])},[n(w,{"in-label":"Nama Lengkap","in-placeholder":"Mis. John Doe","in-type":"text","in-required":!0,"in-helper":v.value,modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Alamat E-mail","in-placeholder":"contoh@email.com","in-type":"email","in-required":!0,"in-helper":f.value,modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=o=>r.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Nomor Telepon","in-placeholder":"+628","in-type":"text","in-required":!0,"in-helper":g.value,modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Kata Sandi","in-placeholder":"","in-type":"password","in-required":!0,"in-helper":y.value,modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=o=>m.value=o)},null,8,["in-helper","modelValue"]),a("div",ne,[(x(!0),T(q,null,W(V.value,(o,J)=>(x(),R(se,{key:J,"error-message":o.msg},null,8,["error-message"]))),128))]),a("div",re,[a("button",{type:"submit",class:"bl-submit",style:k({background:`${l(s).gradientValue}`,opacity:c.value?"0.5":"1"}),disabled:c.value}," Buat Akun! ",12,ie)])],32),a("div",ue,[a("p",{class:h(l(s).textTheme),style:{"margin-top":"1rem","font-size":"14px"}},[p(" Sudah punya akun "+F(l(N).appName)+"? ",1),n(j,{to:"/login",style:k({color:`${l(s).accentColor}`})},{default:K(()=>e[8]||(e[8]=[p("Masuk")])),_:1},8,["style"])],2)])],2)])],64)}}});export{ge as default};
