import{d as J,N as o,Q as E,c as U,a as n,e as a,n as b,u as t,r as $,T as w,R as h,f as V,W as P,F as M,K as W,t as I,w as K,b as L,b3 as O,o as x}from"./index-BElDF46V.js";import{a as R}from"./index-Br0q4W-C.js";import{_ as Q}from"./UiErrorItem.vue_vue_type_style_index_0_lang-BqvoS791.js";import{_}from"./InputView.vue_vue_type_style_index_0_lang-CxfxcBRj.js";import{a as G,_ as H,B as X}from"./ThemeSetting.vue_vue_type_style_index_0_lang-PkQcRzHz.js";import{m as Y}from"./formValidator-OdL4bhgE.js";import{u as Z}from"./theme-Bhw8p-KN.js";const ee={class:b(["bl-wrapper"])},ae={class:"bl-opt"},se={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start","margin-bottom":"1rem"}},le={class:"form-group"},oe={class:"form-group"},te=["disabled"],ne={class:"form-group"},fe=J({__name:"RegisterView",setup(re){const{vFullname:S,vEmail:C,vPassword:N,vPhone:T,checkValidation:B}=Y(),s=Z(),y=o(!1),q=()=>{y.value=!y.value},i=o(""),r=o(""),u=o(""),m=o(""),p=o(!0),k=o(),v=o(""),c=o(""),f=o(""),g=o(""),D=[v,c,f,g];v.value=S(i).message,f.value=T(u).message,g.value=N(m).message,c.value=C(r).message,E([i,u,m,r],()=>{v.value=S(i).message||"",f.value=T(u).message||"",g.value=N(m).message||"",c.value=C(r).message||"",p.value=B(D)},{immediate:!0}),E([v,f,g,c],()=>{p.value=B(D)},{immediate:!0});const z=()=>{p.value?s.notifyShow("Mohon isi form dengan benar!"):s.notifyConfirm("Daftar?","Pastikan data sudah benar. Jika sudah, klik Daftar Sekarang","Daftar Sekarang","Batal",async()=>{const A={username:r.value,email:r.value,password:m.value,phone:u.value,fullname:i.value};try{const d=(await R.post(w.baseEnd+"auth/register",JSON.stringify(A),{headers:{"Content-Type":"application/json"}})).data.message;s.notifyAlertSuccess(d.area,d.content,"Oke!",()=>{r.value="",m.value="",u.value="",i.value="",k.value=null,O.push("/login")})}catch(e){if(e.response&&e.response.data.errors){let d=e.response.data.errors;k.value=d}else k.value=[{msg:e.response.data.message.content}]}},()=>{})};return(A,e)=>{const d=$("font-awesome-icon"),F=$("router-link");return x(),U(M,null,[n(G,{visible:y.value,"onUpdate:visible":e[0]||(e[0]=l=>y.value=l)},null,8,["visible"]),a("div",ee,[a("div",{class:b(["bl-inner",t(s).mTheme])},[a("div",ae,[n(H),a("a",{class:b([t(s).textTheme]),onClick:q,href:"javascript:void(0)"},[n(d,{icon:"gear"})],2)]),a("div",se,[n(X,{style:{"padding-left":"1rem"},"site-name":t(w).appName},null,8,["site-name"])]),a("p",{class:b(t(s).textTheme),style:{"padding-left":"1rem","font-size":"14px"}},[e[5]||(e[5]=h(" Daftar Akun ")),a("span",{style:V({color:t(s).accentColor})},"Waterlo",4),e[6]||(e[6]=h(" sekarang dan kelola bisnis Depot Air Minum Isi Ulang Anda bersama ")),a("span",{style:V({color:t(s).accentColor})},"Waterlo",4),e[7]||(e[7]=h("! "))],2),a("form",{onSubmit:P(z,["prevent"])},[n(_,{"in-label":"Nama Lengkap","in-placeholder":"Mis. John Doe","in-type":"text","in-required":!0,"in-helper":v.value,modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Alamat E-mail","in-placeholder":"contoh@email.com","in-type":"email","in-required":!0,"in-helper":c.value,modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Nomor Telepon","in-placeholder":"+628","in-type":"text","in-required":!0,"in-helper":f.value,modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Kata Sandi","in-placeholder":"","in-type":"password","in-required":!0,"in-helper":g.value,modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=l=>m.value=l)},null,8,["in-helper","modelValue"]),a("div",le,[(x(!0),U(M,null,W(k.value,(l,j)=>(x(),L(Q,{key:j,"error-message":l.msg},null,8,["error-message"]))),128))]),a("div",oe,[a("button",{type:"submit",class:"bl-submit",style:V({background:`${t(s).gradientValue}`,opacity:p.value?"0.5":"1"}),disabled:p.value}," Buat Akun! ",12,te)])],32),a("div",ne,[a("p",{class:b(t(s).textTheme),style:{"margin-top":"1rem","font-size":"14px"}},[h(" Sudah punya akun "+I(t(w).appName)+"? ",1),n(F,{to:"/login",style:V({color:`${t(s).accentColor}`})},{default:K(()=>e[8]||(e[8]=[h("Masuk")])),_:1},8,["style"])],2)])],2)])],64)}}});export{fe as default};
