import{d as z,c as B,G as K,a as n,R as p,r as M,t as F,o as x,N as t,Q as A,e as a,n as y,u as l,T,f as V,aH as L,F as q,K as O,w as R,b as W,b0 as G}from"./index-byhWglQc.js";import{a as H}from"./http-BzpqNWUD.js";import{_ as w}from"./InputView.vue_vue_type_style_index_0_lang-hWwXOZjh.js";import{a as Q,_ as X,B as Y}from"./ThemeSetting.vue_vue_type_style_index_0_lang-BCB_hDgW.js";import{m as Z}from"./formValidator-OdL4bhgE.js";import{u as ee}from"./theme-Dr1oRzSc.js";const ae={key:0,class:"errmsg",style:{"margin-bottom":"0.5rem"}},se=z({__name:"UiErrorItem",props:{errorMessage:{type:String,required:!0}},setup(S){return(C,N)=>{const _=M("font-awesome-icon");return S.errorMessage?(x(),B("div",ae,[n(_,{icon:"times-circle"}),p(" "+F(S.errorMessage),1)])):K("",!0)}}}),oe={class:y(["bl-wrapper"])},te={class:"bl-opt"},le={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start","margin-bottom":"1rem"}},ne={class:"form-group"},re={class:"form-group"},ie=["disabled"],ue={class:"form-group"},ge=z({__name:"RegisterView",setup(S){const{vFullname:C,vEmail:N,vPassword:_,vPhone:D,checkValidation:E}=Z(),s=ee(),b=t(!1),j=()=>{b.value=!b.value},i=t(""),r=t(""),u=t(""),m=t(""),c=t(!0),k=t(),v=t(""),f=t(""),g=t(""),h=t(""),U=[v,f,g,h];v.value=C(i).message,g.value=D(u).message,h.value=_(m).message,f.value=N(r).message,A([i,u,m,r],()=>{v.value=C(i).message||"",g.value=D(u).message||"",h.value=_(m).message||"",f.value=N(r).message||"",c.value=E(U)},{immediate:!0}),A([v,g,h,f],()=>{c.value=E(U)},{immediate:!0});const I=()=>{c.value?s.notifyShow("Mohon isi form dengan benar!"):s.notifyConfirm("Daftar?","Pastikan data sudah benar. Jika sudah, klik Daftar Sekarang","Daftar Sekarang","Batal",async()=>{const $={username:r.value,email:r.value,password:m.value,phone:u.value,fullname:i.value};try{const d=(await H.post(T.baseEnd+"auth/register",JSON.stringify($),{headers:{"Content-Type":"application/json"}})).data.message;s.notifyAlertSuccess(d.area,d.content,"Oke!",()=>{r.value="",m.value="",u.value="",i.value="",k.value=null,G.push("/login")})}catch(e){if(e.response&&e.response.data.errors){let d=e.response.data.errors;k.value=d}else k.value=[{msg:e.response.data.message.content}]}},()=>{})};return($,e)=>{const d=M("font-awesome-icon"),J=M("router-link");return x(),B(q,null,[n(Q,{visible:b.value,"onUpdate:visible":e[0]||(e[0]=o=>b.value=o)},null,8,["visible"]),a("div",oe,[a("div",{class:y(["bl-inner",l(s).mTheme])},[a("div",te,[n(X),a("a",{class:y([l(s).textTheme]),onClick:j,href:"javascript:void(0)"},[n(d,{icon:"gear"})],2)]),a("div",le,[n(Y,{style:{"padding-left":"1rem"},"site-name":l(T).appName},null,8,["site-name"])]),a("p",{class:y(l(s).textTheme),style:{"padding-left":"1rem","font-size":"14px"}},[e[5]||(e[5]=p(" Daftar Akun ")),a("span",{style:V({color:l(s).accentColor})},"Waterlo",4),e[6]||(e[6]=p(" sekarang dan kelola bisnis Depot Air Minum Isi Ulang Anda bersama ")),a("span",{style:V({color:l(s).accentColor})},"Waterlo",4),e[7]||(e[7]=p("! "))],2),a("form",{onSubmit:L(I,["prevent"])},[n(w,{"in-label":"Nama Lengkap","in-placeholder":"Mis. John Doe","in-type":"text","in-required":!0,"in-helper":v.value,modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Alamat E-mail","in-placeholder":"contoh@email.com","in-type":"email","in-required":!0,"in-helper":f.value,modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=o=>r.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Nomor Telepon","in-placeholder":"+628","in-type":"text","in-required":!0,"in-helper":g.value,modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o)},null,8,["in-helper","modelValue"]),n(w,{"in-label":"Kata Sandi","in-placeholder":"","in-type":"password","in-required":!0,"in-helper":h.value,modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=o=>m.value=o)},null,8,["in-helper","modelValue"]),a("div",ne,[(x(!0),B(q,null,O(k.value,(o,P)=>(x(),W(se,{key:P,"error-message":o.msg},null,8,["error-message"]))),128))]),a("div",re,[a("button",{type:"submit",class:"bl-submit",style:V({background:`${l(s).gradientValue}`,opacity:c.value?"0.5":"1"}),disabled:c.value}," Buat Akun! ",12,ie)])],32),a("div",ue,[a("p",{class:y(l(s).textTheme),style:{"margin-top":"1rem","font-size":"14px"}},[p(" Sudah punya akun "+F(l(T).appName)+"? ",1),n(J,{to:"/login",style:V({color:`${l(s).accentColor}`})},{default:R(()=>e[8]||(e[8]=[p("Masuk")])),_:1},8,["style"])],2)])],2)])],64)}}});export{ge as default};
