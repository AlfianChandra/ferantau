import{d as J,h as o,k as E,r as M,o as w,c as U,a as n,e as a,n as y,u as t,m as x,p as h,f as V,A as P,F as $,y as I,t as L,w as O,b as W,M as K}from"./index-DWI4Gpbi.js";import{a as R}from"./axios-BimPEqV4.js";import{_ as G}from"./UiErrorItem.vue_vue_type_style_index_0_lang-P9o-iYLE.js";import{_}from"./InputView.vue_vue_type_style_index_0_lang-DUbbGs0i.js";import{a as H,_ as Q,B as X}from"./ThemeSetting.vue_vue_type_style_index_0_lang-DBhaXd2J.js";import{m as Y}from"./formValidator-OdL4bhgE.js";import{u as Z}from"./theme-BqYDG6-8.js";const ee={class:y(["bl-wrapper"])},ae={class:"bl-opt"},se={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-start","margin-bottom":"1rem"}},le={class:"form-group"},oe={class:"form-group"},te=["disabled"],ne={class:"form-group"},fe=J({__name:"RegisterView",setup(re){const{vFullname:S,vEmail:C,vPassword:B,vPhone:N,checkValidation:T}=Y(),s=Z(),b=o(!1),q=()=>{b.value=!b.value},i=o(""),r=o(""),u=o(""),m=o(""),p=o(!0),k=o(),v=o(""),c=o(""),f=o(""),g=o(""),A=[v,c,f,g];v.value=S(i).message,f.value=N(u).message,g.value=B(m).message,c.value=C(r).message,E([i,u,m,r],()=>{v.value=S(i).message||"",f.value=N(u).message||"",g.value=B(m).message||"",c.value=C(r).message||"",p.value=T(A)},{immediate:!0}),E([v,f,g,c],()=>{p.value=T(A)},{immediate:!0});const z=()=>{p.value?s.notifyShow("Mohon isi form dengan benar!"):s.notifyConfirm("Daftar?","Pastikan data sudah benar. Jika sudah, klik Daftar Sekarang","Daftar Sekarang","Batal",async()=>{const D={username:r.value,email:r.value,password:m.value,phone:u.value,fullname:i.value};try{const d=(await R.post(x.baseEnd+"auth/register",JSON.stringify(D),{headers:{"Content-Type":"application/json"}})).data.message;s.notifyAlertSuccess(d.area,d.content,"Oke!",()=>{r.value="",m.value="",u.value="",i.value="",k.value=null,K.push("/login")})}catch(e){if(e.response&&e.response.data.errors){let d=e.response.data.errors;k.value=d}else k.value=[{msg:e.response.data.message.content}]}},()=>{})};return(D,e)=>{const d=M("font-awesome-icon"),F=M("router-link");return w(),U($,null,[n(H,{visible:b.value,"onUpdate:visible":e[0]||(e[0]=l=>b.value=l)},null,8,["visible"]),a("div",ee,[a("div",{class:y(["bl-inner",t(s).mTheme])},[a("div",ae,[n(Q),a("a",{class:y([t(s).textTheme]),onClick:q,href:"javascript:void(0)"},[n(d,{icon:"gear"})],2)]),a("div",se,[n(X,{style:{"padding-left":"1rem"},"site-name":t(x).appName},null,8,["site-name"])]),a("p",{class:y(t(s).textTheme),style:{"padding-left":"1rem","font-size":"14px"}},[e[5]||(e[5]=h(" Daftar Akun ")),a("span",{style:V({color:t(s).accentColor})},"Waterlo",4),e[6]||(e[6]=h(" sekarang dan kelola bisnis Depot Air Minum Isi Ulang Anda bersama ")),a("span",{style:V({color:t(s).accentColor})},"Waterlo",4),e[7]||(e[7]=h("! "))],2),a("form",{onSubmit:P(z,["prevent"])},[n(_,{"in-label":"Nama Lengkap","in-placeholder":"Mis. John Doe","in-type":"text","in-required":!0,"in-helper":v.value,modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Alamat E-mail","in-placeholder":"contoh@email.com","in-type":"email","in-required":!0,"in-helper":c.value,modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Nomor Telepon","in-placeholder":"+628","in-type":"text","in-required":!0,"in-helper":f.value,modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l)},null,8,["in-helper","modelValue"]),n(_,{"in-label":"Kata Sandi","in-placeholder":"","in-type":"password","in-required":!0,"in-helper":g.value,modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=l=>m.value=l)},null,8,["in-helper","modelValue"]),a("div",le,[(w(!0),U($,null,I(k.value,(l,j)=>(w(),W(G,{key:j,"error-message":l.msg},null,8,["error-message"]))),128))]),a("div",oe,[a("button",{type:"submit",class:"bl-submit",style:V({background:`${t(s).gradientValue}`,opacity:p.value?"0.5":"1"}),disabled:p.value}," Buat Akun! ",12,te)])],32),a("div",ne,[a("p",{class:y(t(s).textTheme),style:{"margin-top":"1rem","font-size":"14px"}},[h(" Sudah punya akun "+L(t(x).appName)+"? ",1),n(F,{to:"/login",style:V({color:`${t(s).accentColor}`})},{default:O(()=>e[8]||(e[8]=[h("Masuk")])),_:1},8,["style"])],2)])],2)])],64)}}});export{fe as default};
